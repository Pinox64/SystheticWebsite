/* ==========================================================================
   Renaud Gagnon â€” Site Styles (mobile-first + touch detection)
   ========================================================================== */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

:root{
  --bg:#0f0f10;
  --panel:#1b1b1d;
  --fg:#e8e8ea;
  --muted:#b9b9c0;
  --accent:#4d8dff;
  --danger:#ff5d5d;
  --radius:14px;
  --shadow:0 6px 16px rgba(0,0,0,.35);
  --fs-300:.875rem;
  --fs-400:1rem;
  --fs-500:1.125rem;
  --fs-600:1.375rem;
  --fs-700:1.75rem;
  --fs-800:2.25rem;
  --header-h:80px;
  --container:1100px;
  --gap:1rem;
}

*,*::before,*::after{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  font:16px/1.6 'Inter',system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  color:var(--fg);
  background:var(--bg);
  -webkit-font-smoothing:antialiased;
  text-rendering:optimizeLegibility;
}
img{ max-width:100%; height:auto; display:block; }
a{ color:inherit; text-decoration:none; }
a:focus-visible, button:focus-visible { outline:2px solid var(--accent); outline-offset:2px; }
button{ font:inherit; background:none; border:0; color:inherit; }

.container{ width:95%; margin-inline:auto; }
.header-spacer{ height:0; }
.hidden{ display:none !important }
.center{ text-align:center }
.muted{ color:var(--muted) }

.site-header{
  position:sticky; top:0; z-index:1000;
  height:var(--header-h);
  width:100%;
  background:linear-gradient(180deg, #171717, #141414);
  border-bottom:1px solid #222;
  display:flex; align-items:center;
}
.site-header .container{
  display:flex; align-items:center; justify-content:space-between; gap:1rem; position:relative;
}
.logo{ margin-right:auto; display:flex; align-items:center; }
.logo img{ height:64px; width:auto; object-fit:contain; }
.header-text h1{ font-size:var(--fs-600); margin:0; }

.main-nav{ display:flex; gap:.9rem; margin-left:auto; align-items:center; }
.main-nav a{
  padding:.5rem .75rem; border-radius:10px; color:var(--fg);
}
.main-nav a:hover{ background:#202024 }

.hamburger{
  display:none; flex-direction:column; justify-content:center; gap:5px;
  width:40px; height:40px; cursor:pointer;
}
.hamburger span{ display:block; height:2px; width:22px; background:var(--fg); border-radius:2px; }

.intro{
  display:grid; gap:1.25rem;
  grid-template-columns: 1fr;
  align-items:center;
  padding: 2rem var(--gap);
  max-width: var(--container);
  margin: auto;
}
.intro .intro-image{ order:1; }
.intro .intro-text{ order:2; }
.intro-text h1{ font-size:var(--fs-800); color:var(--accent); margin:.3rem 0 .6rem }
.intro-text p{ font-size:var(--fs-500); color:var(--muted); }
.intro-image img{ border-radius:var(--radius); box-shadow:var(--shadow); }
.intro.rgHome{ padding-top:.5rem; }

.btn{
  display:inline-block; background:var(--accent); color:#fff;
  padding:.75rem 1.1rem; margin:.5rem .5rem 0 0; border-radius:10px; font-weight:700;
  box-shadow:0 4px 12px rgba(77,141,255,.25);
  transition:transform .15s ease, filter .15s ease;
}
.btn:hover{ transform:translateY(-1px); filter:brightness(1.05); }
.btn:active{ transform:translateY(0) scale(.98); }

.carousel{
  --h: 30vh;
  position:relative; overflow:hidden; border-radius:var(--radius);
  margin:1.25rem 0 2rem; background:var(--panel);
}
.carousel .track-wrapper{ height:var(--h) }
.track{ display:flex; align-items:center; height:100%; list-style:none; gap:.5rem; padding:.5rem; margin:0 }
.slide{ height:var(--h); display:flex; align-items:center; justify-content:center; }
.slide img{ height:100%; width:auto; object-fit:contain; border-radius:10px; transition:transform .2s ease; }
.slide img:hover{ transform:scale(1.02); }
.ctrl{ position:absolute; top:50%; transform:translateY(-50%); background:#111a; color:#fff; font-size:1.6rem; padding:.3rem .55rem; border-radius:999px; cursor:pointer; z-index:10; }
.prev{ left:.4rem } .next{ right:.4rem }

footer{
  margin-top:2rem; background:#141416; border-top:1px solid #222; text-align:center; padding:1.25rem; color:var(--muted);
}

/* Projects stacked layout */
.project-row{
  display:flex;
  flex-direction:column; /* stack text then carousel */
  gap:1rem;
}

.project-text{
  flex:initial;
  max-width:none;        /* let text span full width */
}

.project-image{
  flex:initial;
}

.internships{ padding:2rem 0 }
.internships h1{ font-size:var(--fs-800); color:var(--accent); text-align:center; margin-bottom:1rem; }
.internship-grid{ display:grid; gap:1rem; grid-template-columns: repeat(auto-fill, minmax(240px, 1fr)); }
.internship-card{ background:var(--panel); border-radius:var(--radius); box-shadow:var(--shadow); overflow:hidden; display:flex; flex-direction:column; transition:transform .2s ease, box-shadow .2s ease; cursor:pointer; }
.internship-card:hover{ transform:translateY(-3px); box-shadow:0 10px 26px rgba(0,0,0,.45); }
.internship-card img{ width:100%; height:140px; object-fit:contain; background:var(--bg) }
.internship-details{ padding:1rem }
.internship-details h2{ font-size:var(--fs-600); margin:0 0 .25rem }
.internship-details .meta{ color:var(--muted); font-size:var(--fs-300) }

.internship-modal{ position:fixed; inset:0; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,.6); z-index:1000; }
.internship-modal.open{ display:flex }
.internship-modal-content{ background:#222326; border-radius:12px; padding:1.25rem; width:min(92vw, 560px); max-height:85vh; overflow:auto; box-shadow:var(--shadow); }
.internship-modal-close{ position:absolute; top:.4rem; right:.6rem; background:transparent; border:0; color:#fff; font-size:2rem; cursor:pointer; }

@media (prefers-reduced-motion: reduce){
  *{ animation-duration:.01ms !important; animation-iteration-count:1 !important; transition-duration:.01ms !important; scroll-behavior:auto !important; }
}

/* === Touch-device styles (instead of max-width) === */
@media (hover: none) and (pointer: coarse) {
  .main-nav{
    position:absolute; right:1rem; top:calc(var(--header-h) - 8px);
    display:none; flex-direction:column; gap:.25rem; background:var(--panel); border:1px solid #24242a; border-radius:12px;
    padding:.5rem; box-shadow:var(--shadow); min-width:180px;
  }
  .main-nav a{ padding:.6rem .75rem; border-radius:10px; }
  .main-nav.open{ display:flex; }
  body.nav-open{ overflow:hidden; }

  /* Mobile swipe/scroll carousels */
  .carousel .track-wrapper{
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scroll-snap-type: x mandatory;
    scroll-padding-left: .5rem;
  }
  .carousel .track{
    flex-wrap: nowrap;
    gap: .75rem;
  }
  .carousel .slide{
    flex: 0 0 85%;
    scroll-snap-align: start;
  }

  .hamburger{ display:inline-flex !important; }
  /* dropdown nav behavior for touch */
  .main-nav{
    position:absolute; right:1rem; top:calc(var(--header-h) - 8px);
    display:none; flex-direction:column; gap:.25rem;
    background:var(--panel); border:1px solid #24242a; border-radius:12px;
    padding:.5rem; box-shadow:var(--shadow); min-width:180px;
  }
  .main-nav.open{ display:flex; }
}

/* Desktop / larger device refinements */
@media (min-width:600px){
  :root{ --header-h:80px }
  .intro{ grid-template-columns: 1fr 1fr; }
  .intro .intro-image{ order:2 }
  .intro .intro-text{ order:1; }
}

@media (min-width:900px){
  .main-nav{ display:flex; gap:1.25rem; position:static; padding:0; border:0; box-shadow:none; background:transparent; }
}

/* --- Lightbox overlay --- */
.lightbox{
  position:fixed; inset:0; z-index:9999;
  display:none; align-items:center; justify-content:center;
  background:rgba(0,0,0,.75);
  padding:1rem;
}
.lightbox.open{ display:flex; }
.lightbox .lb-img{
  max-width:min(96vw, 1200px);
  max-height:90vh;
  border-radius:12px;
  box-shadow:0 12px 30px rgba(0,0,0,.6);
}
.lightbox .lb-prev,
.lightbox .lb-next,
.lightbox .lb-close{
  position:absolute; border:0; background:#111a; color:#fff;
  font-size:2rem; line-height:1; padding:.4rem .7rem; border-radius:12px;
  cursor:pointer;
}
.lightbox .lb-close{ top:1rem; right:1rem; }
.lightbox .lb-prev{ left:1rem; top:50%; transform:translateY(-50%); }
.lightbox .lb-next{ right:1rem; top:50%; transform:translateY(-50%); }

/* make slides look tappable */
.carousel .slide{ cursor: zoom-in; }
